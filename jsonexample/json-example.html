<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr" lang="en"><head>



<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="ajax.js" type="text/javascript">
  </script>


<script type="text/javascript">

function loadJSON(fname) 
{
	var xhr=createXHR();
	xhr.open("GET", fname,true);
	xhr.onreadystatechange=function() 
	{
		if (xhr.readyState == 4) 
		{
			if (xhr.status != 404) 
			{
				document.getElementById("zone").innerHTML = "found";
				var data=eval("(" + xhr.responseText + ")");
				document.getElementById("zone").innerHTML = "Menu " + data.menu + "<br>";
				for(i = 0; i < 3; i++)
				{
					document.getElementById("zone").innerHTML += "&nbsp;" + data.commands[i].title + ': ' + data.commands[i].action + "<br>";
				}
			} 
			else 
			{
				document.getElementById("zone").innerHTML = fname + " not found";
			}
		}
	}
	xhr.send(null);
}



</script>
	<title>Ajax Get JSON Demo</title></head><div FirebugVersion="1.3.0" style="display: none;" id="_firebugConsole"></div><body bgcolor="#ffffff">
<p><font size="+3">Ajax JSON Demo - Get a Menu</font></p>
<hr>
<form name="ajax" method="post" action="">
			
  <p>
    <input value=" Click to load the JSON menu file " onclick="loadJSON('json-example.json')" type="button">
  </p>

</form>
	


<div id="zone">ajax-json-menu.json not found</div>

<p><br>
  <a href="http://www.xul.fr/ajax-json-menu.json">View the JSON file</a> </p>
<br>
<hr>
(c) 2006 - <a href="http://www.xul.fr/" target="_parent">Xul.fr</a> 
</body></html>